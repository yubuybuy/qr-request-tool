# 京东按钮点亮工具使用指南

## 🎯 工具简介

京东按钮点亮工具是一个用于激活京东活动页面灰色领券按钮的浏览器工具。主要用于提前抓包获取请求参数，方便研究京东 h5st 签名机制。

---

## 📍 访问地址

- **在线地址**: https://qr.sswl.top/activate.html
- **本地地址**: http://localhost:3000/activate.html

---

## ✨ 主要功能

1. **一键点亮**：激活页面上所有灰色的领券按钮
2. **智能识别**：自动识别包含"领取"、"立即"、"抢购"等关键字的按钮
3. **多种方式**：支持书签和手动脚本两种使用方式
4. **纯前端**：不上传任何数据，完全在浏览器本地运行

---

## 🚀 使用方法

### 方法 1：使用书签（推荐）

#### 步骤 1：保存书签
1. 访问 https://qr.sswl.top/activate.html
2. 找到页面上的 "🔓 一键点亮" 按钮
3. 用鼠标**按住拖拽**（不是点击）到浏览器书签栏
4. 松开鼠标，书签保存成功

💡 **提示**：
- 如果看不到书签栏，按 `Ctrl+Shift+B`（Mac: `Cmd+Shift+B`）
- 不要点击按钮，要**拖拽**！

#### 步骤 2：使用书签
1. 打开任何京东活动页面（有灰色领券按钮的）
2. 点击书签栏的 "🔓 一键点亮"
3. 等待弹窗提示 "已点亮 X 个按钮"
4. 现在可以点击领取按钮了

---

### 方法 2：手动运行脚本

#### 步骤 1：复制脚本
访问 https://qr.sswl.top/activate.html，点击"方法2"下的"复制代码"按钮

#### 步骤 2：打开控制台
在京东活动页面，按 `F12` 打开开发者工具，切换到 **Console** 标签

#### 步骤 3：粘贴运行
将复制的脚本粘贴到控制台，按回车运行

#### 步骤 4：查看结果
控制台会显示激活的按钮，弹窗提示点亮数量

---

## 🔗 配合 h5st 调试工具使用

### 完整抓包流程

```
1. 打开京东活动页面
   ↓
2. 按 F12 打开控制台
   ↓
3. 运行 h5st 监听脚本
   (从 https://qr.sswl.top/h5st-debugger.html 复制)
   ↓
4. 运行按钮点亮脚本
   (点击书签或手动运行)
   ↓
5. 点击现在已点亮的"领取"按钮
   ↓
6. 查看控制台捕获的 h5st 签名
   ↓
7. 记录版本号和参数
```

---

## 🎯 适用场景

### ✅ 适合使用的情况

1. **未到开抢时间**
   - 按钮显示"即将开始"、"未开始"
   - 按钮是灰色的，无法点击
   - 想提前抓包获取请求参数

2. **已领过券**
   - 按钮显示"已领取"
   - 想再次触发请求查看参数

3. **研究学习**
   - 学习京东 API 机制
   - 研究 h5st 签名算法
   - 了解前端防护手段

### ❌ 不适合的情况

1. **真正抢券**
   - 点亮按钮≠能领到券
   - 服务器会检查时间和库存
   - 只是让按钮看起来可点击

2. **券已抢完**
   - 即使点亮也领不到
   - 主要用于抓包研究

---

## 💡 工作原理

### 脚本做了什么？

```javascript
1. 移除按钮的 disabled 属性
2. 移除 CSS 禁用类（disabled、gray、grey 等）
3. 重置样式（opacity、pointer-events、cursor 等）
4. 查找包含领取文字的元素并激活
```

### 为什么能点亮？

京东的灰色按钮通常是通过以下方式禁用：
- HTML 属性：`disabled`
- CSS 类：`.disabled`、`.gray`
- 内联样式：`opacity: 0.5`、`pointer-events: none`

我们的脚本会移除这些限制，让按钮恢复可点击状态。

### 为什么点击后还是提示"未开始"？

因为：
- 前端限制已解除（按钮可点击）
- 但服务器端还会检查时间
- 所以会返回"未开始"或"已结束"

**这是正常的！** 我们的目的是：
- ✅ 触发网络请求
- ✅ 抓包获取参数
- ✅ 分析 h5st 签名
- ❌ 不是真的能提前领券

---

## ❓ 常见问题

### Q1: 点亮后按钮还是点不了？

**可能原因**：
1. 页面有 JavaScript 动态检查
2. 按钮被其他元素遮挡
3. 使用了 Shadow DOM

**解决方法**：
1. 刷新页面后再运行脚本
2. 尝试多次点击按钮
3. 使用浏览器"检查元素"手动修改

### Q2: 弹窗显示"已点亮 0 个按钮"？

**可能原因**：
1. 页面上没有可识别的按钮
2. 按钮的 HTML 结构特殊
3. 活动页面类型不支持

**解决方法**：
1. 查看控制台是否有错误
2. 尝试换一个活动页面
3. 使用"检查元素"查看按钮结构

### Q3: 点亮后点击按钮没有网络请求？

**可能原因**：
1. 按钮的点击事件被阻止
2. 需要先登录
3. 活动已结束

**解决方法**：
1. 确保已登录京东账号
2. 检查 Network 标签是否有请求
3. 尝试其他正在进行的活动

### Q4: 书签拖不进去？

**解决方法**：
1. 确保书签栏已显示（Ctrl+Shift+B）
2. 用鼠标**按住拖拽**，不要点击
3. 尝试拖到书签栏的空白处
4. 或者直接使用"方法2"的手动脚本

### Q5: 配合 h5st 工具使用没有捕获到签名？

**可能原因**：
1. 这个活动不使用 h5st 签名
2. h5st 在请求体中，不在 URL 中
3. 监听脚本运行顺序错误

**解决方法**：
1. 先运行 h5st 监听脚本
2. 再运行按钮点亮脚本
3. 然后点击按钮
4. 查看 Network 标签的请求详情

---

## 🔒 安全说明

### 脚本安全性

✅ **完全安全**：
- 纯前端 JavaScript 代码
- 只修改当前页面的 DOM
- 不发送任何数据到外部服务器
- 不读取或上传 Cookie
- 开源透明，代码可审查

⚠️ **使用注意**：
- 仅用于学习研究
- 不要用于违规操作
- 不保证一定能领到券
- 主要目的是抓包研究

---

## 📊 技术细节

### 支持的按钮类型

脚本会激活以下元素：
```javascript
- button 标签
- 带有 .btn、.button 类的元素
- class 包含 "receive"、"coupon" 的元素
- href 包含 "receive" 的链接
- 文本包含"领取"、"立即"、"抢购"的元素
```

### 移除的限制

```javascript
// HTML 属性
el.disabled = false
el.removeAttribute('disabled')

// CSS 类
el.classList.remove('disabled', 'gray', 'grey', 'btn-disabled')

// 内联样式
el.style.cssText += 'pointer-events:auto!important;
                     opacity:1!important;
                     cursor:pointer!important;
                     filter:none!important;'
```

---

## 🔗 相关工具

| 工具 | 地址 | 说明 |
|------|------|------|
| h5st 调试工具 | /h5st-debugger.html | 捕获 h5st 签名 |
| h5st 书签工具 | /h5st-bookmarklet.html | h5st 一键调试 |
| 二维码生成器 | /jd.html | 生成领券二维码 |
| 按钮点亮工具 | /activate.html | 本工具 |

---

## 📝 更新日志

### v1.0.0 (2025-10-17)
- ✨ 初始版本发布
- ✨ 支持书签和手动脚本两种方式
- ✨ 智能识别领券按钮
- ✨ 优化激活成功率

---

## 💬 反馈建议

如果遇到问题或有改进建议：
1. 查看本文档的"常见问题"部分
2. 访问 GitHub 项目页面提 Issue
3. 查看项目的其他文档

---

## ⚖️ 免责声明

本工具仅供学习研究使用，不得用于：
- 违反京东平台规则的行为
- 批量抢券、刷券等作弊行为
- 任何商业用途

使用本工具产生的任何后果，由使用者自行承担。

---

**最后更新**: 2025-10-17
**版本**: v1.0.0
